[:project
 {:projections [{country customers.1/country} {custno customers.1/custno}]}
 [:map
  {:projections [{_sq_2 true}]}
  [:semi-join
   {:conditions [{customers.1/custno custno}]}
   [:rename
    customers.1
    [:scan
     {:table #xt/table customers, :columns [{country (== country "Mexico")} custno]}]]
   [:project
    {:projections [{custno orders.3/custno}]}
    [:rename orders.3 [:scan {:table #xt/table orders, :columns [custno]}]]]]]]
